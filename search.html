<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>St. Anne's-Belfield All-School Visual Art Show</title>
  <script type="module" src='./search.js'>
    import {DisplayStudentSearchData, doLocaleStorageStuff} from './search.js';
     window.DisplayStudentSearchData = DisplayStudentSearchData;
     window.doLocaleStorageStuff = doLocaleStorageStuff;
    </script>
  
  <link href="style.css" rel="stylesheet" type="text/css" />
  <style>
    /* Using percentage for all css blocks, making the search bar and button moblie friendly */
    html {
      height: 100%;
    }
    body {
      height: 100%;
    }
    .searchBar{
      height: 5%;
    }
    /* the width is 10% of the height */
    #searchInput {
        height: 100%;
        width:50vh;
        position: relative;
        top:0%;
        left: 0%;
    } 

    #searchButton {
        height: 80%;
        width:10vh;
        position: relative;
        top: 0%;
        left: 0%;
    }

    #content{
        position: relative;
        top: 0%;
        left: 0%;
        display: block;
    } 

</style>
</head>
<!-- <div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="#">About the show</a>
  <a href="./search.html">students/artwork search</a>
  <a href="#">Gratitution</a>
  <a href="#">Contact</a>
</div> -->
<!-- <div>
  <span onclick="openNav()">click for more info</span>
</div> -->
<!-- <script>
  function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
  }

  function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
  }
  closeNav()
</script> -->
<body>
  <!-- Adding the search bar and button to html, when the user click on search bar the recommandation of results show up. -->
  <!-- <div class="searchBar">
  <input type="text" placeholder="Search For Students' Artwork" id="searchInput" >
     <button id="searchButton" 
     onclick="DisplayStudentSearchData();
     goToCodingPage;
     location.replace('search.html');">
      go
    </button>

  </div> -->
  <div class="searchBar">
    <datalist id="searchList">
      <!-- or build the list from the database at the beginning -->
      <option value="Grabowski, A.J. '31 (4th)"></option>
      <option value="McNerney, Brooks '32 (3rd)"></option>
      <option value="McLaughlin, Keira '32 (3rd)"></option>
    </datalist>
    <label for="searchInput"></label><input type="text" placeholder="Search For Students' Artwork" id="searchInput" onInput="updateRecommendation()" list="searchList">
    <button id="searchButton" onclick="DisplayStudentSearchData();updateSearchHistory()">go</button>
  </div>

  <div id="content">
  </div>

  <script type='module' src='./search.js'>
// putting passcode to get into uploadPage
    function goToPage(url) {
    location.replace(url);
    }
    function goToCodingPage(){
      if (document.getElementById('searchInput').value == "111"){
         goToPage('uploadPage.html') ;
      }
    }

    function updateRecommendation() {
    let searchInput = document.getElementById("searchInput").value;
    // according to the input, update the recommendation list from the database
    // and display the recommendation list
  }
  function updateSearchHistory() {
        let searchInput = document.getElementById("searchInput").value;
        // according to the input, update the search history list in local storage
        let searchHistory = localStorage.getItem("searchHistory")?JSON.parse(localStorage.getItem("searchHistory")):[];
        searchHistory.push(searchInput);
        localStorage.setItem("searchHistory",JSON.stringify(searchHistory));
    }
  </script>
  <div id="content">
  </div>
</body>
</html>
